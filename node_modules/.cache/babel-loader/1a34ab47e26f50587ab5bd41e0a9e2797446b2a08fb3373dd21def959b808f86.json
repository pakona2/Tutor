{"ast":null,"code":"var _jsxFileName = \"/workspaces/Tutor/src/pages/tutorials/TutorUpload.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport './TutorUpload.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TutorUpload() {\n  _s();\n  const [uploaderName, setUploaderName] = useState('');\n  const [videoTitle, setVideoTitle] = useState('');\n  const [videoUrl, setVideoUrl] = useState('');\n  const [videoFile, setVideoFile] = useState(null);\n  const [videoThumbnail, setVideoThumbnail] = useState(null);\n  const [videoSubject, setVideoSubject] = useState('');\n  const [videoGrade, setVideoGrade] = useState('');\n  const [videoDescription, setVideoDescription] = useState('');\n  const [videoPublic, setVideoPublic] = useState(true);\n  const [paperTitle, setPaperTitle] = useState('');\n  const [paperUrl, setPaperUrl] = useState('');\n  const [paperFile, setPaperFile] = useState(null);\n  const [paperSubject, setPaperSubject] = useState('');\n  const [paperGrade, setPaperGrade] = useState('');\n  const [paperDescription, setPaperDescription] = useState('');\n  const [paperPublic, setPaperPublic] = useState(true);\n  const [message, setMessage] = useState('');\n  const [pastVideos, setPastVideos] = useState([]);\n  const [pastPapers, setPastPapers] = useState([]);\n  useEffect(() => {\n    setPastVideos(JSON.parse(localStorage.getItem('tutorial_videos') || '[]'));\n    setPastPapers(JSON.parse(localStorage.getItem('exam_papers') || '[]'));\n  }, []);\n  useEffect(() => {\n    if (!message) return;\n    const t = setTimeout(() => setMessage(''), 3000);\n    return () => clearTimeout(t);\n  }, [message]);\n  const saveVideos = items => {\n    localStorage.setItem('tutorial_videos', JSON.stringify(items));\n    setPastVideos(items);\n  };\n  const savePapers = items => {\n    localStorage.setItem('exam_papers', JSON.stringify(items));\n    setPastPapers(items);\n  };\n\n  // Generate thumbnail for an uploaded video File\n  const generateVideoThumbnail = file => {\n    return new Promise(resolve => {\n      if (!file) return resolve(null);\n      const url = URL.createObjectURL(file);\n      const video = document.createElement('video');\n      video.preload = 'metadata';\n      video.src = url;\n      video.muted = true;\n      video.playsInline = true;\n      const cleanup = () => {\n        try {\n          URL.revokeObjectURL(url);\n        } catch {}\n        video.src = '';\n      };\n      const capture = () => {\n        try {\n          const canvas = document.createElement('canvas');\n          const w = video.videoWidth;\n          const h = video.videoHeight;\n          if (!w || !h) {\n            cleanup();\n            return resolve(null);\n          }\n          const maxW = 640;\n          const scale = w > maxW ? maxW / w : 1;\n          canvas.width = Math.floor(w * scale);\n          canvas.height = Math.floor(h * scale);\n          const ctx = canvas.getContext('2d');\n          ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n          const dataUrl = canvas.toDataURL('image/jpeg', 0.7);\n          cleanup();\n          resolve(dataUrl);\n        } catch (err) {\n          cleanup();\n          resolve(null);\n        }\n      };\n      const handleLoadedMeta = () => {\n        // seek to a point (1s or 10% of duration)\n        try {\n          const t = Math.min(1, (video.duration || 0) * 0.1);\n          video.currentTime = t;\n        } catch {\n          capture();\n        }\n      };\n      video.addEventListener('loadedmetadata', handleLoadedMeta);\n      video.addEventListener('seeked', capture);\n\n      // fallback\n      setTimeout(() => {\n        if (!video.videoWidth) {\n          capture();\n        }\n      }, 1500);\n    });\n  };\n\n  // Helpers to push items into localStorage with full shape\n  const handleVideoUpload = async e => {\n    e.preventDefault();\n    if (!videoTitle || !videoUrl && !videoFile) {\n      setMessage('Please provide a title and a video URL or file.');\n      return;\n    }\n    const current = JSON.parse(localStorage.getItem('tutorial_videos') || '[]');\n\n    // if a file was selected, create object URL for immediate preview/usage\n    let urlToSave = videoUrl;\n    if (videoFile) {\n      const objUrl = URL.createObjectURL(videoFile);\n      urlToSave = objUrl;\n    }\n\n    // generate thumbnail if we have a file\n    let thumbnail = videoThumbnail;\n    if (!thumbnail && videoFile) {\n      thumbnail = await generateVideoThumbnail(videoFile);\n    }\n    const item = {\n      id: Date.now().toString(),\n      title: videoTitle,\n      url: urlToSave,\n      uploadedAt: new Date().toISOString(),\n      uploader: uploaderName || 'Tutor',\n      uploaderId: uploaderName ? uploaderName.replace(/\\s+/g, '_').toLowerCase() : 'tutor',\n      thumbnail: thumbnail || null,\n      subject: videoSubject || '',\n      grade: videoGrade || '',\n      description: videoDescription || '',\n      public: Boolean(videoPublic),\n      type: 'video',\n      size: videoFile ? videoFile.size : undefined,\n      filename: videoFile ? videoFile.name : undefined\n    };\n    current.push(item);\n    saveVideos(current);\n\n    // clear form but preserve uploaderName\n    setVideoTitle('');\n    setVideoUrl('');\n    setVideoFile(null);\n    setVideoThumbnail(null);\n    setVideoSubject('');\n    setVideoGrade('');\n    setVideoDescription('');\n    setVideoPublic(true);\n    setMessage('Video uploaded and saved locally.');\n  };\n  const handlePaperUpload = e => {\n    e.preventDefault();\n    if (!paperTitle || !paperUrl && !paperFile) {\n      setMessage('Please provide a title and a paper URL or file.');\n      return;\n    }\n    const current = JSON.parse(localStorage.getItem('exam_papers') || '[]');\n    let urlToSave = paperUrl;\n    if (paperFile) {\n      const objUrl = URL.createObjectURL(paperFile);\n      urlToSave = objUrl;\n    }\n    const item = {\n      id: Date.now().toString(),\n      title: paperTitle,\n      url: urlToSave,\n      uploadedAt: new Date().toISOString(),\n      uploader: uploaderName || 'Tutor',\n      uploaderId: uploaderName ? uploaderName.replace(/\\s+/g, '_').toLowerCase() : 'tutor',\n      thumbnail: null,\n      subject: paperSubject || '',\n      grade: paperGrade || '',\n      description: paperDescription || '',\n      public: Boolean(paperPublic),\n      type: 'paper',\n      size: paperFile ? paperFile.size : undefined,\n      filename: paperFile ? paperFile.name : undefined\n    };\n    current.push(item);\n    savePapers(current);\n    setPaperTitle('');\n    setPaperUrl('');\n    setPaperFile(null);\n    setPaperSubject('');\n    setPaperGrade('');\n    setPaperDescription('');\n    setPaperPublic(true);\n    setMessage('Paper uploaded and saved locally.');\n  };\n\n  // file input handlers\n  const onVideoFileSelected = async file => {\n    if (!file) return;\n    if (!file.type.startsWith('video')) {\n      setMessage('Please select a valid video file.');\n      return;\n    }\n    setVideoFile(file);\n    const url = URL.createObjectURL(file);\n    setVideoUrl(url);\n\n    // generate thumbnail async and set state\n    const thumb = await generateVideoThumbnail(file);\n    if (thumb) setVideoThumbnail(thumb);\n    if (!videoTitle) setVideoTitle(file.name.replace(/\\.[^/.]+$/, ''));\n  };\n  const onPaperFileSelected = file => {\n    if (!file) return;\n    const allowed = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];\n    if (!allowed.includes(file.type) && !/\\.(pdf|doc|docx)$/i.test(file.name)) {\n      setMessage('Unsupported paper file type.');\n      return;\n    }\n    setPaperFile(file);\n    const url = URL.createObjectURL(file);\n    setPaperUrl(url);\n    if (!paperTitle) setPaperTitle(file.name.replace(/\\.[^/.]+$/, ''));\n  };\n\n  // delete helpers\n  const deleteVideo = id => {\n    const list = JSON.parse(localStorage.getItem('tutorial_videos') || '[]').filter(i => i.id !== id);\n    saveVideos(list);\n    setMessage('Video deleted.');\n  };\n  const deletePaper = id => {\n    const list = JSON.parse(localStorage.getItem('exam_papers') || '[]').filter(i => i.id !== id);\n    savePapers(list);\n    setMessage('Paper deleted.');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"upload-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"upload-title\",\n        children: \"Upload Tutorials & Exam Papers\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload-message\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: 6,\n            fontWeight: 600\n          },\n          children: \"Uploader name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Your name (will appear to students)\",\n          value: uploaderName,\n          onChange: e => setUploaderName(e.target.value),\n          className: \"input-field\",\n          style: {\n            width: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleVideoUpload,\n        className: \"upload-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"Upload Tutorial Video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Tutorial Title\",\n          value: videoTitle,\n          onChange: e => setVideoTitle(e.target.value),\n          className: \"input-field\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"url\",\n          placeholder: \"Video URL (optional if you upload a file)\",\n          value: videoUrl,\n          onChange: e => setVideoUrl(e.target.value),\n          className: \"input-field\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"video/*\",\n          className: \"input-field\",\n          onChange: e => onVideoFileSelected(e.target.files[0])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Subject (optional)\",\n          value: videoSubject,\n          onChange: e => setVideoSubject(e.target.value),\n          className: \"input-field\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Grade (optional)\",\n          value: videoGrade,\n          onChange: e => setVideoGrade(e.target.value),\n          className: \"input-field\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          placeholder: \"Short description (optional)\",\n          value: videoDescription,\n          onChange: e => setVideoDescription(e.target.value),\n          className: \"input-field\",\n          style: {\n            minHeight: 80\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: videoPublic,\n            onChange: e => setVideoPublic(e.target.checked)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Make this tutorial public\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this), videoThumbnail && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"preview-label\",\n            children: \"Generated thumbnail\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: videoThumbnail,\n            alt: \"thumbnail\",\n            style: {\n              width: '100%',\n              maxWidth: 320,\n              borderRadius: 8\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this), videoUrl && !videoThumbnail && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"preview-label\",\n            children: \"Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n            controls: true,\n            src: videoUrl,\n            style: {\n              width: '100%',\n              maxWidth: 320,\n              borderRadius: 8\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"upload-button\",\n          children: \"Upload Video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"past-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"Past Video Previews\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this), pastVideos.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"muted\",\n          children: \"No tutorials available.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-grid\",\n          children: pastVideos.map(vid => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-top\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-title\",\n                children: vid.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-time\",\n                children: new Date(vid.uploadedAt).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 19\n            }, this), vid.thumbnail ? /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"card-media\",\n              src: vid.thumbnail,\n              alt: vid.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"video\", {\n              className: \"card-media\",\n              controls: true,\n              src: vid.url\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 8,\n                color: '#374151'\n              },\n              children: vid.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"link-button\",\n                onClick: () => window.open(vid.url, '_blank'),\n                children: \"Open\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"link-button\",\n                onClick: () => {\n                  var _navigator$clipboard;\n                  return (_navigator$clipboard = navigator.clipboard) === null || _navigator$clipboard === void 0 ? void 0 : _navigator$clipboard.writeText(vid.url);\n                },\n                children: \"Copy Link\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"delete-button\",\n                onClick: () => deleteVideo(vid.id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 19\n            }, this)]\n          }, vid.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        style: {\n          margin: '18px 0'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handlePaperUpload,\n        className: \"upload-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"Upload Paper\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Paper Title\",\n          value: paperTitle,\n          onChange: e => setPaperTitle(e.target.value),\n          className: \"input-field\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"url\",\n          placeholder: \"Paper URL (optional if you upload a file)\",\n          value: paperUrl,\n          onChange: e => setPaperUrl(e.target.value),\n          className: \"input-field\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n          className: \"input-field\",\n          onChange: e => onPaperFileSelected(e.target.files[0])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Subject (optional)\",\n          value: paperSubject,\n          onChange: e => setPaperSubject(e.target.value),\n          className: \"input-field\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Grade (optional)\",\n          value: paperGrade,\n          onChange: e => setPaperGrade(e.target.value),\n          className: \"input-field\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          placeholder: \"Short description (optional)\",\n          value: paperDescription,\n          onChange: e => setPaperDescription(e.target.value),\n          className: \"input-field\",\n          style: {\n            minHeight: 80\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: paperPublic,\n            onChange: e => setPaperPublic(e.target.checked)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Make this paper public\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 11\n        }, this), paperUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"preview-label\",\n            children: \"Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"paper-link\",\n            href: paperUrl,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: \"Open Paper\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"upload-button\",\n          children: \"Upload Paper\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"past-section\",\n        style: {\n          marginTop: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"Past Papers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 11\n        }, this), pastPapers.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"muted\",\n          children: \"No papers available.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-grid\",\n          children: pastPapers.map(paper => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-top\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-title\",\n                children: paper.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-time\",\n                children: new Date(paper.uploadedAt).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 8\n              },\n              children: paper.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"paper-link\",\n              href: paper.url,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              children: \"View Paper\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"link-button\",\n                onClick: () => window.open(paper.url, '_blank'),\n                children: \"Open\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"link-button\",\n                href: paper.url,\n                download: true,\n                children: \"Download\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"delete-button\",\n                onClick: () => deletePaper(paper.id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 19\n            }, this)]\n          }, paper.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 254,\n    columnNumber: 5\n  }, this);\n}\n_s(TutorUpload, \"Hp+pzx1ywPq5T+VA3CjqnfoQ6Rk=\");\n_c = TutorUpload;\nvar _c;\n$RefreshReg$(_c, \"TutorUpload\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","TutorUpload","_s","uploaderName","setUploaderName","videoTitle","setVideoTitle","videoUrl","setVideoUrl","videoFile","setVideoFile","videoThumbnail","setVideoThumbnail","videoSubject","setVideoSubject","videoGrade","setVideoGrade","videoDescription","setVideoDescription","videoPublic","setVideoPublic","paperTitle","setPaperTitle","paperUrl","setPaperUrl","paperFile","setPaperFile","paperSubject","setPaperSubject","paperGrade","setPaperGrade","paperDescription","setPaperDescription","paperPublic","setPaperPublic","message","setMessage","pastVideos","setPastVideos","pastPapers","setPastPapers","JSON","parse","localStorage","getItem","t","setTimeout","clearTimeout","saveVideos","items","setItem","stringify","savePapers","generateVideoThumbnail","file","Promise","resolve","url","URL","createObjectURL","video","document","createElement","preload","src","muted","playsInline","cleanup","revokeObjectURL","capture","canvas","w","videoWidth","h","videoHeight","maxW","scale","width","Math","floor","height","ctx","getContext","drawImage","dataUrl","toDataURL","err","handleLoadedMeta","min","duration","currentTime","addEventListener","handleVideoUpload","e","preventDefault","current","urlToSave","objUrl","thumbnail","item","id","Date","now","toString","title","uploadedAt","toISOString","uploader","uploaderId","replace","toLowerCase","subject","grade","description","public","Boolean","type","size","undefined","filename","name","push","handlePaperUpload","onVideoFileSelected","startsWith","thumb","onPaperFileSelected","allowed","includes","test","deleteVideo","list","filter","i","deletePaper","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginBottom","display","fontWeight","placeholder","value","onChange","target","onSubmit","accept","files","minHeight","alignItems","gap","checked","marginTop","alt","maxWidth","borderRadius","controls","length","map","vid","toLocaleString","color","onClick","window","open","_navigator$clipboard","navigator","clipboard","writeText","margin","href","rel","paper","download","_c","$RefreshReg$"],"sources":["/workspaces/Tutor/src/pages/tutorials/TutorUpload.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './TutorUpload.css';\n\nexport default function TutorUpload() {\n  const [uploaderName, setUploaderName] = useState('');\n  const [videoTitle, setVideoTitle] = useState('');\n  const [videoUrl, setVideoUrl] = useState('');\n  const [videoFile, setVideoFile] = useState(null);\n  const [videoThumbnail, setVideoThumbnail] = useState(null);\n  const [videoSubject, setVideoSubject] = useState('');\n  const [videoGrade, setVideoGrade] = useState('');\n  const [videoDescription, setVideoDescription] = useState('');\n  const [videoPublic, setVideoPublic] = useState(true);\n\n  const [paperTitle, setPaperTitle] = useState('');\n  const [paperUrl, setPaperUrl] = useState('');\n  const [paperFile, setPaperFile] = useState(null);\n  const [paperSubject, setPaperSubject] = useState('');\n  const [paperGrade, setPaperGrade] = useState('');\n  const [paperDescription, setPaperDescription] = useState('');\n  const [paperPublic, setPaperPublic] = useState(true);\n\n  const [message, setMessage] = useState('');\n  const [pastVideos, setPastVideos] = useState([]);\n  const [pastPapers, setPastPapers] = useState([]);\n\n  useEffect(() => {\n    setPastVideos(JSON.parse(localStorage.getItem('tutorial_videos') || '[]'));\n    setPastPapers(JSON.parse(localStorage.getItem('exam_papers') || '[]'));\n  }, []);\n\n  useEffect(() => {\n    if (!message) return;\n    const t = setTimeout(() => setMessage(''), 3000);\n    return () => clearTimeout(t);\n  }, [message]);\n\n  const saveVideos = (items) => {\n    localStorage.setItem('tutorial_videos', JSON.stringify(items));\n    setPastVideos(items);\n  };\n\n  const savePapers = (items) => {\n    localStorage.setItem('exam_papers', JSON.stringify(items));\n    setPastPapers(items);\n  };\n\n  // Generate thumbnail for an uploaded video File\n  const generateVideoThumbnail = (file) => {\n    return new Promise((resolve) => {\n      if (!file) return resolve(null);\n      const url = URL.createObjectURL(file);\n      const video = document.createElement('video');\n      video.preload = 'metadata';\n      video.src = url;\n      video.muted = true;\n      video.playsInline = true;\n\n      const cleanup = () => {\n        try { URL.revokeObjectURL(url); } catch {}\n        video.src = '';\n      };\n\n      const capture = () => {\n        try {\n          const canvas = document.createElement('canvas');\n          const w = video.videoWidth;\n          const h = video.videoHeight;\n          if (!w || !h) {\n            cleanup();\n            return resolve(null);\n          }\n          const maxW = 640;\n          const scale = w > maxW ? maxW / w : 1;\n          canvas.width = Math.floor(w * scale);\n          canvas.height = Math.floor(h * scale);\n          const ctx = canvas.getContext('2d');\n          ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n          const dataUrl = canvas.toDataURL('image/jpeg', 0.7);\n          cleanup();\n          resolve(dataUrl);\n        } catch (err) {\n          cleanup();\n          resolve(null);\n        }\n      };\n\n      const handleLoadedMeta = () => {\n        // seek to a point (1s or 10% of duration)\n        try {\n          const t = Math.min(1, (video.duration || 0) * 0.1);\n          video.currentTime = t;\n        } catch {\n          capture();\n        }\n      };\n\n      video.addEventListener('loadedmetadata', handleLoadedMeta);\n      video.addEventListener('seeked', capture);\n\n      // fallback\n      setTimeout(() => {\n        if (!video.videoWidth) {\n          capture();\n        }\n      }, 1500);\n    });\n  };\n\n  // Helpers to push items into localStorage with full shape\n  const handleVideoUpload = async (e) => {\n    e.preventDefault();\n    if (!videoTitle || (!videoUrl && !videoFile)) {\n      setMessage('Please provide a title and a video URL or file.');\n      return;\n    }\n\n    const current = JSON.parse(localStorage.getItem('tutorial_videos') || '[]');\n\n    // if a file was selected, create object URL for immediate preview/usage\n    let urlToSave = videoUrl;\n    if (videoFile) {\n      const objUrl = URL.createObjectURL(videoFile);\n      urlToSave = objUrl;\n    }\n\n    // generate thumbnail if we have a file\n    let thumbnail = videoThumbnail;\n    if (!thumbnail && videoFile) {\n      thumbnail = await generateVideoThumbnail(videoFile);\n    }\n\n    const item = {\n      id: Date.now().toString(),\n      title: videoTitle,\n      url: urlToSave,\n      uploadedAt: new Date().toISOString(),\n      uploader: uploaderName || 'Tutor',\n      uploaderId: uploaderName ? uploaderName.replace(/\\s+/g, '_').toLowerCase() : 'tutor',\n      thumbnail: thumbnail || null,\n      subject: videoSubject || '',\n      grade: videoGrade || '',\n      description: videoDescription || '',\n      public: Boolean(videoPublic),\n      type: 'video',\n      size: videoFile ? videoFile.size : undefined,\n      filename: videoFile ? videoFile.name : undefined,\n    };\n\n    current.push(item);\n    saveVideos(current);\n\n    // clear form but preserve uploaderName\n    setVideoTitle('');\n    setVideoUrl('');\n    setVideoFile(null);\n    setVideoThumbnail(null);\n    setVideoSubject('');\n    setVideoGrade('');\n    setVideoDescription('');\n    setVideoPublic(true);\n    setMessage('Video uploaded and saved locally.');\n  };\n\n  const handlePaperUpload = (e) => {\n    e.preventDefault();\n    if (!paperTitle || (!paperUrl && !paperFile)) {\n      setMessage('Please provide a title and a paper URL or file.');\n      return;\n    }\n\n    const current = JSON.parse(localStorage.getItem('exam_papers') || '[]');\n\n    let urlToSave = paperUrl;\n    if (paperFile) {\n      const objUrl = URL.createObjectURL(paperFile);\n      urlToSave = objUrl;\n    }\n\n    const item = {\n      id: Date.now().toString(),\n      title: paperTitle,\n      url: urlToSave,\n      uploadedAt: new Date().toISOString(),\n      uploader: uploaderName || 'Tutor',\n      uploaderId: uploaderName ? uploaderName.replace(/\\s+/g, '_').toLowerCase() : 'tutor',\n      thumbnail: null,\n      subject: paperSubject || '',\n      grade: paperGrade || '',\n      description: paperDescription || '',\n      public: Boolean(paperPublic),\n      type: 'paper',\n      size: paperFile ? paperFile.size : undefined,\n      filename: paperFile ? paperFile.name : undefined,\n    };\n\n    current.push(item);\n    savePapers(current);\n\n    setPaperTitle('');\n    setPaperUrl('');\n    setPaperFile(null);\n    setPaperSubject('');\n    setPaperGrade('');\n    setPaperDescription('');\n    setPaperPublic(true);\n    setMessage('Paper uploaded and saved locally.');\n  };\n\n  // file input handlers\n  const onVideoFileSelected = async (file) => {\n    if (!file) return;\n    if (!file.type.startsWith('video')) {\n      setMessage('Please select a valid video file.');\n      return;\n    }\n    setVideoFile(file);\n    const url = URL.createObjectURL(file);\n    setVideoUrl(url);\n\n    // generate thumbnail async and set state\n    const thumb = await generateVideoThumbnail(file);\n    if (thumb) setVideoThumbnail(thumb);\n    if (!videoTitle) setVideoTitle(file.name.replace(/\\.[^/.]+$/, ''));\n  };\n\n  const onPaperFileSelected = (file) => {\n    if (!file) return;\n    const allowed = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];\n    if (!allowed.includes(file.type) && !/\\.(pdf|doc|docx)$/i.test(file.name)) {\n      setMessage('Unsupported paper file type.');\n      return;\n    }\n    setPaperFile(file);\n    const url = URL.createObjectURL(file);\n    setPaperUrl(url);\n    if (!paperTitle) setPaperTitle(file.name.replace(/\\.[^/.]+$/, ''));\n  };\n\n  // delete helpers\n  const deleteVideo = (id) => {\n    const list = JSON.parse(localStorage.getItem('tutorial_videos') || '[]').filter(i => i.id !== id);\n    saveVideos(list);\n    setMessage('Video deleted.');\n  };\n\n  const deletePaper = (id) => {\n    const list = JSON.parse(localStorage.getItem('exam_papers') || '[]').filter(i => i.id !== id);\n    savePapers(list);\n    setMessage('Paper deleted.');\n  };\n\n  return (\n    <div className=\"upload-page\">\n      <div className=\"upload-container\">\n        <h1 className=\"upload-title\">Upload Tutorials & Exam Papers</h1>\n\n        {message && <div className=\"upload-message\">{message}</div>}\n\n        <div style={{ marginBottom: 12 }}>\n          <label style={{ display: 'block', marginBottom: 6, fontWeight: 600 }}>Uploader name</label>\n          <input\n            type=\"text\"\n            placeholder=\"Your name (will appear to students)\"\n            value={uploaderName}\n            onChange={(e) => setUploaderName(e.target.value)}\n            className=\"input-field\"\n            style={{ width: '100%' }}\n          />\n        </div>\n\n        {/* Video upload form */}\n        <form onSubmit={handleVideoUpload} className=\"upload-form\">\n          <h2 className=\"section-title\">Upload Tutorial Video</h2>\n\n          <input\n            type=\"text\"\n            placeholder=\"Tutorial Title\"\n            value={videoTitle}\n            onChange={(e) => setVideoTitle(e.target.value)}\n            className=\"input-field\"\n          />\n\n          <input\n            type=\"url\"\n            placeholder=\"Video URL (optional if you upload a file)\"\n            value={videoUrl}\n            onChange={(e) => setVideoUrl(e.target.value)}\n            className=\"input-field\"\n          />\n\n          <input\n            type=\"file\"\n            accept=\"video/*\"\n            className=\"input-field\"\n            onChange={(e) => onVideoFileSelected(e.target.files[0])}\n          />\n\n          <input\n            type=\"text\"\n            placeholder=\"Subject (optional)\"\n            value={videoSubject}\n            onChange={(e) => setVideoSubject(e.target.value)}\n            className=\"input-field\"\n          />\n\n          <input\n            type=\"text\"\n            placeholder=\"Grade (optional)\"\n            value={videoGrade}\n            onChange={(e) => setVideoGrade(e.target.value)}\n            className=\"input-field\"\n          />\n\n          <textarea\n            placeholder=\"Short description (optional)\"\n            value={videoDescription}\n            onChange={(e) => setVideoDescription(e.target.value)}\n            className=\"input-field\"\n            style={{ minHeight: 80 }}\n          />\n\n          <label style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\n            <input type=\"checkbox\" checked={videoPublic} onChange={(e) => setVideoPublic(e.target.checked)} />\n            <span>Make this tutorial public</span>\n          </label>\n\n          {videoThumbnail && (\n            <div style={{ marginTop: 8 }}>\n              <label className=\"preview-label\">Generated thumbnail</label>\n              <img src={videoThumbnail} alt=\"thumbnail\" style={{ width: '100%', maxWidth: 320, borderRadius: 8 }} />\n            </div>\n          )}\n\n          {videoUrl && !videoThumbnail && (\n            <div style={{ marginTop: 8 }}>\n              <label className=\"preview-label\">Preview</label>\n              <video controls src={videoUrl} style={{ width: '100%', maxWidth: 320, borderRadius: 8 }} />\n            </div>\n          )}\n\n          <button type=\"submit\" className=\"upload-button\">Upload Video</button>\n        </form>\n\n        {/* Past videos */}\n        <div className=\"past-section\">\n          <h2 className=\"section-title\">Past Video Previews</h2>\n          {pastVideos.length === 0 ? (\n            <p className=\"muted\">No tutorials available.</p>\n          ) : (\n            <div className=\"card-grid\">\n              {pastVideos.map((vid) => (\n                <div className=\"card\" key={vid.id}>\n                  <div className=\"card-top\">\n                    <div className=\"card-title\">{vid.title}</div>\n                    <div className=\"card-time\">{new Date(vid.uploadedAt).toLocaleString()}</div>\n                  </div>\n\n                  {vid.thumbnail ? (\n                    <img className=\"card-media\" src={vid.thumbnail} alt={vid.title} />\n                  ) : (\n                    <video className=\"card-media\" controls src={vid.url} />\n                  )}\n\n                  <div style={{ marginTop: 8, color: '#374151' }}>{vid.description}</div>\n                  <div className=\"card-actions\">\n                    <button className=\"link-button\" onClick={() => window.open(vid.url, '_blank')}>Open</button>\n                    <button className=\"link-button\" onClick={() => navigator.clipboard?.writeText(vid.url)}>Copy Link</button>\n                    <button className=\"delete-button\" onClick={() => deleteVideo(vid.id)}>Delete</button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        <hr style={{ margin: '18px 0' }} />\n\n        {/* Paper upload form */}\n        <form onSubmit={handlePaperUpload} className=\"upload-form\">\n          <h2 className=\"section-title\">Upload Paper</h2>\n\n          <input\n            type=\"text\"\n            placeholder=\"Paper Title\"\n            value={paperTitle}\n            onChange={(e) => setPaperTitle(e.target.value)}\n            className=\"input-field\"\n          />\n\n          <input\n            type=\"url\"\n            placeholder=\"Paper URL (optional if you upload a file)\"\n            value={paperUrl}\n            onChange={(e) => setPaperUrl(e.target.value)}\n            className=\"input-field\"\n          />\n\n          <input\n            type=\"file\"\n            accept=\".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document\"\n            className=\"input-field\"\n            onChange={(e) => onPaperFileSelected(e.target.files[0])}\n          />\n\n          <input\n            type=\"text\"\n            placeholder=\"Subject (optional)\"\n            value={paperSubject}\n            onChange={(e) => setPaperSubject(e.target.value)}\n            className=\"input-field\"\n          />\n\n          <input\n            type=\"text\"\n            placeholder=\"Grade (optional)\"\n            value={paperGrade}\n            onChange={(e) => setPaperGrade(e.target.value)}\n            className=\"input-field\"\n          />\n\n          <textarea\n            placeholder=\"Short description (optional)\"\n            value={paperDescription}\n            onChange={(e) => setPaperDescription(e.target.value)}\n            className=\"input-field\"\n            style={{ minHeight: 80 }}\n          />\n\n          <label style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\n            <input type=\"checkbox\" checked={paperPublic} onChange={(e) => setPaperPublic(e.target.checked)} />\n            <span>Make this paper public</span>\n          </label>\n\n          {paperUrl && (\n            <div style={{ marginTop: 8 }}>\n              <label className=\"preview-label\">Preview</label>\n              <a className=\"paper-link\" href={paperUrl} target=\"_blank\" rel=\"noopener noreferrer\">Open Paper</a>\n            </div>\n          )}\n\n          <button type=\"submit\" className=\"upload-button\">Upload Paper</button>\n        </form>\n\n        {/* Past papers */}\n        <div className=\"past-section\" style={{ marginTop: 16 }}>\n          <h2 className=\"section-title\">Past Papers</h2>\n          {pastPapers.length === 0 ? (\n            <p className=\"muted\">No papers available.</p>\n          ) : (\n            <div className=\"card-grid\">\n              {pastPapers.map((paper) => (\n                <div className=\"card\" key={paper.id}>\n                  <div className=\"card-top\">\n                    <div className=\"card-title\">{paper.title}</div>\n                    <div className=\"card-time\">{new Date(paper.uploadedAt).toLocaleString()}</div>\n                  </div>\n\n                  <div style={{ marginTop: 8 }}>{paper.description}</div>\n\n                  <a className=\"paper-link\" href={paper.url} target=\"_blank\" rel=\"noopener noreferrer\">View Paper</a>\n\n                  <div className=\"card-actions\">\n                    <button className=\"link-button\" onClick={() => window.open(paper.url, '_blank')}>Open</button>\n                    <a className=\"link-button\" href={paper.url} download>Download</a>\n                    <button className=\"delete-button\" onClick={() => deletePaper(paper.id)}>Delete</button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}