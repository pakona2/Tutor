{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import Navbar from'../components/Navbar';import Messages from'./Messages';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TutorProfile(){const{tutorId}=useParams();// Ratings state (localStorage per tutor)\nconst[reviews,setReviews]=useState(()=>{return JSON.parse(localStorage.getItem(\"reviews_\".concat(tutorId))||'[]');});const[rating,setRating]=useState(0);const[reviewText,setReviewText]=useState('');// Add review\nconst handleAddReview=()=>{if(rating<1||rating>5||!reviewText.trim())return;const updated=[...reviews,{rating,text:reviewText,date:new Date().toLocaleDateString()}];setReviews(updated);localStorage.setItem(\"reviews_\".concat(tutorId),JSON.stringify(updated));setRating(0);setReviewText('');};// Average rating\nconst avgRating=reviews.length>0?(reviews.reduce((a,r)=>a+r.rating,0)/reviews.length).toFixed(1):null;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{role:\"tutor\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-100 p-6 max-w-3xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-6\",children:\"Tutor Profile\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-form bg-white p-6 rounded shadow-md\",children:[/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginBottom:18},children:/*#__PURE__*/_jsx(\"img\",{src:'https://ui-avatars.com/api/?name=Tutor+'+tutorId,alt:\"Avatar\",style:{width:80,height:80,borderRadius:'50%',objectFit:'cover',boxShadow:'0 2px 8px rgba(0,0,0,0.07)'}})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:18},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tutor ID:\"}),\" \",tutorId]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:24,textAlign:'left',border:'2px solid #fbbf24',borderRadius:10,background:'#fffbe6',padding:'12px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontWeight:'bold',color:'#fbbf24',marginBottom:8,fontSize:'1.2rem'},children:\"Ratings & Reviews\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:8},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'bold',fontSize:'1.1rem',color:'#fbbf24'},children:avgRating?\"\\x02605 \".concat(avgRating,\"/5\"):'No ratings yet'}),/*#__PURE__*/_jsxs(\"span\",{style:{marginLeft:12,color:'#888'},children:[reviews.length,\" review\",reviews.length!==1?'s':'']})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:8,marginBottom:8},children:[[1,2,3,4,5].map(star=>/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1.5rem',color:rating>=star?'#fbbf24':'#e5e7eb',cursor:'pointer'},onClick:()=>setRating(star),children:\"\\u2605\"},star)),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:reviewText,onChange:e=>setReviewText(e.target.value),placeholder:\"Write a review...\",style:{flex:1,padding:'8px',borderRadius:8,border:'1px solid #cbd5e1',marginLeft:8}}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",style:{padding:'8px 16px',width:'auto'},onClick:handleAddReview,children:\"Submit\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:8},children:reviews.length===0?/*#__PURE__*/_jsx(\"div\",{style:{color:'#888',fontWeight:'bold',fontSize:'1.05rem'},children:\"No reviews yet. Be the first to review this tutor!\"}):reviews.map((r,idx)=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:12,background:'#f3f4f6',borderRadius:8,padding:'10px 14px'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{color:'#fbbf24',fontWeight:'bold',fontSize:'1.1rem'},children:[\"\\u2605 \",r.rating]}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:8},children:r.text}),/*#__PURE__*/_jsx(\"span\",{style:{float:'right',color:'#888',fontSize:'0.95rem'},children:r.date})]},idx))})]}),/*#__PURE__*/_jsx(Messages,{tutorId:tutorId})]})]})]});}export default TutorProfile;","map":{"version":3,"names":["React","useState","useEffect","useParams","Navbar","Messages","jsx","_jsx","jsxs","_jsxs","TutorProfile","tutorId","reviews","setReviews","JSON","parse","localStorage","getItem","concat","rating","setRating","reviewText","setReviewText","handleAddReview","trim","updated","text","date","Date","toLocaleDateString","setItem","stringify","avgRating","length","reduce","a","r","toFixed","children","role","className","style","textAlign","marginBottom","src","alt","width","height","borderRadius","objectFit","boxShadow","border","background","padding","fontWeight","color","fontSize","marginLeft","display","alignItems","gap","map","star","cursor","onClick","type","value","onChange","e","target","placeholder","flex","marginTop","idx","float"],"sources":["/workspaces/Tutor/src/pages/TutorProfile.js"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport Navbar from '../components/Navbar';\r\nimport Messages from './Messages';\r\n\r\nfunction TutorProfile() {\r\n  const { tutorId } = useParams();\r\n\r\n  // Ratings state (localStorage per tutor)\r\n  const [reviews, setReviews] = useState(() => {\r\n    return JSON.parse(localStorage.getItem(`reviews_${tutorId}`) || '[]');\r\n  });\r\n  const [rating, setRating] = useState(0);\r\n  const [reviewText, setReviewText] = useState('');\r\n\r\n  // Add review\r\n  const handleAddReview = () => {\r\n    if (rating < 1 || rating > 5 || !reviewText.trim()) return;\r\n    const updated = [...reviews, { rating, text: reviewText, date: new Date().toLocaleDateString() }];\r\n    setReviews(updated);\r\n    localStorage.setItem(`reviews_${tutorId}`, JSON.stringify(updated));\r\n    setRating(0);\r\n    setReviewText('');\r\n  };\r\n\r\n  // Average rating\r\n  const avgRating = reviews.length > 0 ? (reviews.reduce((a, r) => a + r.rating, 0) / reviews.length).toFixed(1) : null;\r\n\r\n  return (\r\n    <div>\r\n      <Navbar role=\"tutor\" />\r\n      <div className=\"min-h-screen bg-gray-100 p-6 max-w-3xl mx-auto\">\r\n        <h1 className=\"text-3xl font-bold mb-6\">Tutor Profile</h1>\r\n        <div className=\"profile-form bg-white p-6 rounded shadow-md\">\r\n          <div style={{ textAlign: 'center', marginBottom: 18 }}>\r\n            <img\r\n              src={'https://ui-avatars.com/api/?name=Tutor+' + tutorId}\r\n              alt=\"Avatar\"\r\n              style={{ width: 80, height: 80, borderRadius: '50%', objectFit: 'cover', boxShadow: '0 2px 8px rgba(0,0,0,0.07)' }}\r\n            />\r\n          </div>\r\n          <div style={{marginBottom: 18}}>\r\n            <strong>Tutor ID:</strong> {tutorId}\r\n          </div>\r\n\r\n          {/* Ratings and Reviews - always visible, fallback if empty */}\r\n          <div style={{marginBottom:24, textAlign:'left', border:'2px solid #fbbf24', borderRadius:10, background:'#fffbe6', padding:'12px'}}>\r\n            <h3 style={{fontWeight:'bold', color:'#fbbf24', marginBottom:8, fontSize:'1.2rem'}}>Ratings & Reviews</h3>\r\n            <div style={{marginBottom:8}}>\r\n              <span style={{fontWeight:'bold', fontSize:'1.1rem', color:'#fbbf24'}}>\r\n                {avgRating ? `\u0002605 ${avgRating}/5` : 'No ratings yet'}\r\n              </span>\r\n              <span style={{marginLeft:12, color:'#888'}}>{reviews.length} review{reviews.length !== 1 ? 's' : ''}</span>\r\n            </div>\r\n            <div style={{display:'flex', alignItems:'center', gap:8, marginBottom:8}}>\r\n              {[1,2,3,4,5].map(star => (\r\n                <span\r\n                  key={star}\r\n                  style={{fontSize:'1.5rem', color: rating >= star ? '#fbbf24' : '#e5e7eb', cursor:'pointer'}}\r\n                  onClick={() => setRating(star)}\r\n                >&#9733;</span>\r\n              ))}\r\n              <input\r\n                type=\"text\"\r\n                value={reviewText}\r\n                onChange={e => setReviewText(e.target.value)}\r\n                placeholder=\"Write a review...\"\r\n                style={{flex:1, padding:'8px', borderRadius:8, border:'1px solid #cbd5e1', marginLeft:8}}\r\n              />\r\n              <button className=\"button\" style={{padding:'8px 16px', width:'auto'}} onClick={handleAddReview}>Submit</button>\r\n            </div>\r\n            <div style={{marginTop:8}}>\r\n              {reviews.length === 0 ? (\r\n                <div style={{color:'#888', fontWeight:'bold', fontSize:'1.05rem'}}>No reviews yet. Be the first to review this tutor!</div>\r\n              ) : (\r\n                reviews.map((r, idx) => (\r\n                  <div key={idx} style={{marginBottom:12, background:'#f3f4f6', borderRadius:8, padding:'10px 14px'}}>\r\n                    <span style={{color:'#fbbf24', fontWeight:'bold', fontSize:'1.1rem'}}>&#9733; {r.rating}</span>\r\n                    <span style={{marginLeft:8}}>{r.text}</span>\r\n                    <span style={{float:'right', color:'#888', fontSize:'0.95rem'}}>{r.date}</span>\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <Messages tutorId={tutorId} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TutorProfile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}