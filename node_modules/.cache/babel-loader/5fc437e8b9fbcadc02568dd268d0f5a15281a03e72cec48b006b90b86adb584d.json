{"ast":null,"code":"import _objectSpread from\"/workspaces/Tutor/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import Navbar from'../components/Navbar';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TutorSessions(){const[sessions,setSessions]=useState([]);useEffect(()=>{// Load all bookings from localStorage\nconst allBookings=JSON.parse(localStorage.getItem('all_bookings')||'[]');// Map to session format for display\nsetSessions(allBookings.map(b=>({id:b.id,studentName:b.student_name||'Student',date:b.session_time?b.session_time.split('T')[0]:'',time:b.session_time?b.session_time.split('T')[1].slice(0,5):'',topic:b.topic,status:b.status||'pending'})));},[]);const handleApprove=id=>{setSessions(sessions.map(s=>s.id===id?_objectSpread(_objectSpread({},s),{},{status:'approved'}):s));};const handleReject=id=>{setSessions(sessions.map(s=>s.id===id?_objectSpread(_objectSpread({},s),{},{status:'rejected'}):s));};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-100 p-6 max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-6\",children:\"My Sessions\"}),sessions.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No sessions booked yet.\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-4\",children:sessions.map(session=>/*#__PURE__*/_jsxs(\"li\",{className:\"bg-white p-4 rounded shadow-md flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Student:\"}),\" \",session.studentName]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date:\"}),\" \",session.date]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Time:\"}),\" \",session.time]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Topic and Subject:\"}),\" \",session.topic]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),/*#__PURE__*/_jsxs(\"span\",{className:session.status==='approved'?'text-green-600':session.status==='rejected'?'text-red-600':'text-yellow-600',children:[\" \",session.status]})]})]}),session.status==='pending'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleApprove(session.id),className:\"bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700\",children:\"Approve\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleReject(session.id),className:\"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700\",children:\"Reject\"})]})]},session.id))})]})});}export default TutorSessions;","map":{"version":3,"names":["React","useState","useEffect","Navbar","jsx","_jsx","jsxs","_jsxs","TutorSessions","sessions","setSessions","allBookings","JSON","parse","localStorage","getItem","map","b","id","studentName","student_name","date","session_time","split","time","slice","topic","status","handleApprove","s","_objectSpread","handleReject","children","className","length","session","onClick"],"sources":["/workspaces/Tutor/src/pages/TutorSessions.js"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport Navbar from '../components/Navbar';\r\n\r\nfunction TutorSessions() {\r\n  const [sessions, setSessions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Load all bookings from localStorage\r\n    const allBookings = JSON.parse(localStorage.getItem('all_bookings') || '[]');\r\n    // Map to session format for display\r\n    setSessions(allBookings.map(b => ({\r\n      id: b.id,\r\n      studentName: b.student_name || 'Student',\r\n      date: b.session_time ? b.session_time.split('T')[0] : '',\r\n      time: b.session_time ? b.session_time.split('T')[1].slice(0,5) : '',\r\n      topic: b.topic,\r\n      status: b.status || 'pending',\r\n    })));\r\n  }, []);\r\n\r\n  const handleApprove = (id) => {\r\n    setSessions(sessions.map(s => s.id === id ? {...s, status: 'approved'} : s));\r\n  };\r\n\r\n  const handleReject = (id) => {\r\n    setSessions(sessions.map(s => s.id === id ? {...s, status: 'rejected'} : s));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {/*<Navbar role=\"tutor\" />*/}\r\n      <div className=\"min-h-screen bg-gray-100 p-6 max-w-4xl mx-auto\">\r\n        <h1 className=\"text-3xl font-bold mb-6\">My Sessions</h1>\r\n\r\n        {sessions.length === 0 ? (\r\n          <p>No sessions booked yet.</p>\r\n        ) : (\r\n          <ul className=\"space-y-4\">\r\n            {sessions.map(session => (\r\n              <li key={session.id} className=\"bg-white p-4 rounded shadow-md flex justify-between items-center\">\r\n                <div>\r\n                  <p><strong>Student:</strong> {session.studentName}</p>\r\n                  <p><strong>Date:</strong> {session.date}</p>\r\n                  <p><strong>Time:</strong> {session.time}</p>\r\n                  <p><strong>Topic and Subject:</strong> {session.topic}</p>\r\n                  <p><strong>Status:</strong> \r\n                    <span \r\n                      className={\r\n                        session.status === 'approved' ? 'text-green-600' : \r\n                        session.status === 'rejected' ? 'text-red-600' : 'text-yellow-600'\r\n                      }\r\n                    > {session.status}</span>\r\n                  </p>\r\n                </div>\r\n\r\n                {session.status === 'pending' && (\r\n                  <div className=\"space-x-2\">\r\n                    <button\r\n                      onClick={() => handleApprove(session.id)}\r\n                      className=\"bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700\"\r\n                    >\r\n                      Approve\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleReject(session.id)}\r\n                      className=\"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700\"\r\n                    >\r\n                      Reject\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TutorSessions;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}