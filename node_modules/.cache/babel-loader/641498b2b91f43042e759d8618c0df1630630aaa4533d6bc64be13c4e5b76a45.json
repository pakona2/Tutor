{"ast":null,"code":"import React,{useState,useEffect,View}from'react';import Navbar from'../components/Navbar.js';import axios from'axios';import Messages from'./Messages.js';// Create an axios instance for your API\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API=axios.create({baseURL:'http://localhost:3000/api',withCredentials:true});function TutorDashboard(_ref){var _route$params;let{route}=_ref;const[searchTerm,setSearchTerm]=useState('');const[students,setStudents]=useState([]);const[loading,setLoading]=useState(true);const userId=(_route$params=route.params)===null||_route$params===void 0?void 0:_route$params.userId;// Get userId from route params\nuseEffect(()=>{// Fetch registered students from backend\nAPI.get('/students').then(res=>{setStudents(res.data);setLoading(false);}).catch(()=>{setStudents([]);setLoading(false);});},[]);const filteredStudents=students.filter(student=>\"\".concat(student.name,\" \").concat(student.email||'').toLowerCase().includes(searchTerm.toLowerCase()));return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{role:\"tutor\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-blue-50 p-6\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"mb-8 flex justify-between items-center\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-blue-700\",children:\"Tutor Dashboard\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search students by name or email...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full md:w-1/2 p-3 border border-gray-300 rounded shadow\"})}),/*#__PURE__*/_jsx(View,{style:styles.container,children:/*#__PURE__*/_jsx(Messages,{userId:userId})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6 hover:shadow-lg transition\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold text-lg mb-2\",children:\"Upcoming Sessions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"You have sessions scheduled with students.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6 hover:shadow-lg transition\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold text-lg mb-2\",children:\"Registered Students\"}),loading?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Loading students...\"}):filteredStudents.length>0?filteredStudents.map(student=>/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-2 mt-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-800 font-medium\",children:student.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:student.email})]},student.id)):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"No students found matching your search.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6 hover:shadow-lg transition\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold text-lg mb-2\",children:\"My Profile\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"View and edit your profile information.\"})]})]})]})]});}const styles={container:{flex:1,padding:20,backgroundColor:'#f0f0f0'},messageContainer:{marginBottom:20,padding:10,backgroundColor:'#fff',borderRadius:5,shadowColor:'#000',shadowOffset:{width:0,height:1},shadowOpacity:0.2,shadowRadius:1.41,elevation:2}};export default TutorDashboard;","map":{"version":3,"names":["React","useState","useEffect","View","Navbar","axios","Messages","jsx","_jsx","jsxs","_jsxs","API","create","baseURL","withCredentials","TutorDashboard","_ref","_route$params","route","searchTerm","setSearchTerm","students","setStudents","loading","setLoading","userId","params","get","then","res","data","catch","filteredStudents","filter","student","concat","name","email","toLowerCase","includes","children","role","className","type","placeholder","value","onChange","e","target","style","styles","container","length","map","id","flex","padding","backgroundColor","messageContainer","marginBottom","borderRadius","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation"],"sources":["/workspaces/Tutor/src/pages/TutorDashboard.js"],"sourcesContent":["\r\nimport React,{ useState, useEffect, View } from 'react';\r\nimport Navbar from '../components/Navbar.js';\r\nimport axios from 'axios';\r\nimport Messages from './Messages.js';\r\n\r\n// Create an axios instance for your API\r\nconst API = axios.create({\r\n  baseURL: 'http://localhost:3000/api',\r\n  withCredentials: true,\r\n});\r\n\r\nfunction TutorDashboard({route}) {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [students, setStudents] = useState([]);\r\n  const [loading, setLoading] = useState(true); \r\n  const userId = route.params?.userId; // Get userId from route params\r\n\r\n  useEffect(() => {\r\n    // Fetch registered students from backend\r\n    API.get('/students')\r\n      .then((res) => {\r\n        setStudents(res.data);\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setStudents([]);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  const filteredStudents = students.filter((student) =>\r\n    `${student.name} ${student.email || ''}`.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  \r\n  \r\n\r\n  return (\r\n    <div>\r\n      <Navbar role=\"tutor\" />\r\n      <div className=\"min-h-screen bg-blue-50 p-6\">\r\n        <header className=\"mb-8 flex justify-between items-center\">\r\n          <h1 className=\"text-3xl font-bold text-blue-700\">Tutor Dashboard</h1>\r\n        </header>\r\n\r\n        {/* üîç Search Bar */}\r\n        <div className=\"mb-6\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search students by name or email...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            className=\"w-full md:w-1/2 p-3 border border-gray-300 rounded shadow\"\r\n          />\r\n        </div>\r\n        <View style={styles.container}>\r\n          <Messages userId= {userId} />\r\n        </View>\r\n\r\n        <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {/* Upcoming Sessions */}\r\n          <div className=\"bg-white rounded-lg shadow p-6 hover:shadow-lg transition\">\r\n            <h2 className=\"font-semibold text-lg mb-2\">Upcoming Sessions</h2>\r\n            <p className=\"text-gray-600\">You have sessions scheduled with students.</p>\r\n          </div>\r\n\r\n          {/* Registered Students - with filtered list */}\r\n          <div className=\"bg-white rounded-lg shadow p-6 hover:shadow-lg transition\">\r\n            <h2 className=\"font-semibold text-lg mb-2\">Registered Students</h2>\r\n            {loading ? (\r\n              <p className=\"text-gray-600\">Loading students...</p>\r\n            ) : filteredStudents.length > 0 ? (\r\n              filteredStudents.map((student) => (\r\n                <div key={student.id} className=\"border-t pt-2 mt-2\">\r\n                  <p className=\"text-gray-800 font-medium\">{student.name}</p>\r\n                  <p className=\"text-gray-500 text-sm\">{student.email}</p>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <p className=\"text-gray-600\">No students found matching your search.</p>\r\n            )}\r\n          </div>\r\n\r\n          {/* My Profile */}\r\n          <div className=\"bg-white rounded-lg shadow p-6 hover:shadow-lg transition\">\r\n            <h2 className=\"font-semibold text-lg mb-2\">My Profile</h2>\r\n            <p className=\"text-gray-600\">View and edit your profile information.</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    flex: 1,\r\n    padding: 20,\r\n    backgroundColor: '#f0f0f0',\r\n  },\r\n  messageContainer: {\r\n    marginBottom: 20,\r\n    padding: 10,\r\n    backgroundColor: '#fff',\r\n    borderRadius: 5,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 1 },\r\n    shadowOpacity: 0.2,\r\n    shadowRadius: 1.41,\r\n    elevation: 2,\r\n  },\r\n  };\r\nexport default TutorDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}