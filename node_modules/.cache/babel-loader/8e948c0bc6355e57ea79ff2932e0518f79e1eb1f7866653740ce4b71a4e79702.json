{"ast":null,"code":"import _objectSpread from\"/workspaces/Tutor/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate,Link}from'react-router-dom';import logo from'../assets/image.png';import axios from'axios';// Correct API configuration\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API=axios.create({baseURL:'http://localhost:3000/api',// Ensure this matches your backend URL\nwithCredentials:true});function Register(){const[formData,setFormData]=useState({role:'student',fullName:'',email:'',password:''});const[error,setError]=useState('');const[isSubmitting,setIsSubmitting]=useState(false);const navigate=useNavigate();const handleChange=e=>{const{name,value}=e.target;setFormData(prevData=>_objectSpread(_objectSpread({},prevData),{},{[name]:value}));};const handleSubmit=async e=>{e.preventDefault();setError('');setIsSubmitting(true);try{const response=await API.post('/register',{role:formData.role,full_name:formData.fullName,email:formData.email,password:formData.password});if(response.status===201){navigate('/login',{state:{registrationSuccess:true}});}}catch(err){var _err$response,_err$response$data;const errMsg=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'An error occurred during registration';setError(errMsg);}finally{setIsSubmitting(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 to-blue-300 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full bg-white p-8 rounded-xl shadow-lg text-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"App Logo\",className:\"w-24 mx-auto mb-6\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-blue-600 mb-6\",children:\"Create Account\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-3 bg-red-100 text-red-700 rounded\",children:error}),/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-4\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"fullName\",placeholder:\"Full Name\",className:\"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500\",value:formData.fullName,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",className:\"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500\",value:formData.email,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password (min 6 characters)\",className:\"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500\",value:formData.password,onChange:handleChange,minLength:\"6\",required:true}),/*#__PURE__*/_jsxs(\"select\",{name:\"role\",className:\"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500\",value:formData.role,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"student\",children:\"Student\"}),/*#__PURE__*/_jsx(\"option\",{value:\"tutor\",children:\"Tutor\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isSubmitting,className:\"w-full bg-blue-600 text-white py-3 rounded transition-colors \".concat(isSubmitting?'opacity-50 cursor-not-allowed':'hover:bg-blue-700'),children:isSubmitting?'Registering...':'Register'})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-6 text-sm text-gray-600\",children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/Login\",className:\"text-blue-600 hover:text-blue-800 font-semibold\",children:\"Login here\"})]})]})});}export default Register;","map":{"version":3,"names":["React","useState","useNavigate","Link","logo","axios","jsx","_jsx","jsxs","_jsxs","API","create","baseURL","withCredentials","Register","formData","setFormData","role","fullName","email","password","error","setError","isSubmitting","setIsSubmitting","navigate","handleChange","e","name","value","target","prevData","_objectSpread","handleSubmit","preventDefault","response","post","full_name","status","state","registrationSuccess","err","_err$response","_err$response$data","errMsg","data","message","className","children","src","alt","onSubmit","type","placeholder","onChange","required","minLength","disabled","concat","to"],"sources":["/workspaces/Tutor/src/pages/Register.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport logo from '../assets/image.png';\r\nimport axios from 'axios';\r\n\r\n// Correct API configuration\r\nconst API = axios.create({\r\n  baseURL: 'http://localhost:3000/api', // Ensure this matches your backend URL\r\n  withCredentials: true,\r\n});\r\n\r\nfunction Register() {\r\n  const [formData, setFormData] = useState({\r\n    role: 'student',\r\n    fullName: '',\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  const [error, setError] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prevData) => ({\r\n      ...prevData,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      const response = await API.post('/register', {\r\n        role: formData.role,\r\n        full_name: formData.fullName,\r\n        email: formData.email,\r\n        password: formData.password,\r\n      });\r\n\r\n      if (response.status === 201) {\r\n        navigate('/login', { state: { registrationSuccess: true } });\r\n      }\r\n    } catch (err) {\r\n      const errMsg = err.response?.data?.message || 'An error occurred during registration';\r\n      setError(errMsg);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 to-blue-300 p-4\">\r\n      <div className=\"max-w-md w-full bg-white p-8 rounded-xl shadow-lg text-center\">\r\n        <img src={logo} alt=\"App Logo\" className=\"w-24 mx-auto mb-6\" />\r\n        <h2 className=\"text-3xl font-bold text-blue-600 mb-6\">Create Account</h2>\r\n\r\n        {error && (\r\n          <div className=\"mb-4 p-3 bg-red-100 text-red-700 rounded\">\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        <form className=\"space-y-4\" onSubmit={handleSubmit}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"fullName\"\r\n            placeholder=\"Full Name\"\r\n            className=\"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500\"\r\n            value={formData.fullName}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Email\"\r\n            className=\"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500\"\r\n            value={formData.email}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Password (min 6 characters)\"\r\n            className=\"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500\"\r\n            value={formData.password}\r\n            onChange={handleChange}\r\n            minLength=\"6\"\r\n            required\r\n          />\r\n\r\n          <select\r\n            name=\"role\"\r\n            className=\"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500\"\r\n            value={formData.role}\r\n            onChange={handleChange}\r\n          >\r\n            <option value=\"student\">Student</option>\r\n            <option value=\"tutor\">Tutor</option>\r\n          </select>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isSubmitting}\r\n            className={`w-full bg-blue-600 text-white py-3 rounded transition-colors ${\r\n              isSubmitting ? 'opacity-50 cursor-not-allowed' : 'hover:bg-blue-700'\r\n            }`}\r\n          >\r\n            {isSubmitting ? 'Registering...' : 'Register'}\r\n          </button>\r\n        </form>\r\n\r\n        <p className=\"mt-6 text-sm text-gray-600\">\r\n          Already have an account?{' '}\r\n          <Link to=\"/Login\" className=\"text-blue-600 hover:text-blue-800 font-semibold\">\r\n            Login here\r\n          </Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}